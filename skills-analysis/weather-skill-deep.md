# Weather Skill æ·±åº¦åˆ†æ

**åˆ†ææ—¥æœŸ**: 2026-03-01
**Skill ç‰ˆæœ¬**: 1.0.0
**åˆ†æè€…**: Glint ğŸ”º

---

## ğŸ“‹ æ¦‚è§ˆ

| å±æ€§ | å€¼ |
|------|-----|
| **åç§°** | Weather |
| **æè¿°** | é€šè¿‡ wttr.in æˆ– Open-Meteo è·å–å½“å‰å¤©æ°”å’Œé¢„æŠ¥ |
| **ç±»å‹** | OpenClaw å†…ç½® Skill |
| **ä¾èµ–** | curl |
| **API Key** | âŒ ä¸éœ€è¦ |
| **è¯„åˆ†** | N/A (å†…ç½®) |
| **ä¸»é¡µ** | https://wttr.in/:help |

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. å½“å‰å¤©æ°”æŸ¥è¯¢
```bash
# ç®€æ´æ‘˜è¦
curl "wttr.in/London?format=3"
# è¾“å‡º: London: â›…ï¸ +15Â°C

# è¯¦ç»†å½“å‰æ¡ä»¶
curl "wttr.in/London?0"
```

### 2. å¤©æ°”é¢„æŠ¥
```bash
# 3å¤©é¢„æŠ¥
curl "wttr.in/London"

# å‘¨é¢„æŠ¥
curl "wttr.in/London?format=v2"

# ç‰¹å®šæ—¥æœŸ (0=ä»Šå¤©, 1=æ˜å¤©, 2=åå¤©)
curl "wttr.in/London?1"
```

### 3. æ ¼å¼åŒ–è¾“å‡º
```bash
# å•è¡Œæ ¼å¼
curl "wttr.in/London?format=%l:+%c+%t+%w"

# JSON è¾“å‡º
curl "wttr.in/London?format=j1"

# PNG å›¾åƒ
curl "wttr.in/London.png"
```

---

## ğŸ”§ æŠ€æœ¯æ¶æ„

### ä¾èµ–é¡¹
- **curl**: HTTP å®¢æˆ·ç«¯ï¼ˆç³»ç»Ÿé¢„è£…ï¼‰
- **wttr.in**: å¼€æºå¤©æ°”æœåŠ¡

### æ•°æ®æº
- **wttr.in**: é»˜è®¤æ•°æ®æº
  - å…¨çƒåŸå¸‚è¦†ç›–
  - æœºåœºä»£ç æ”¯æŒ (å¦‚ ORD, JFK)
  - æ— éœ€æ³¨å†Œ/API key

- **Open-Meteo**: å¯é€‰å¤‡ç”¨æº
  - æ›´ç²¾ç»†çš„åœ°ç†ä½ç½®
  - å†å²æ•°æ®æ”¯æŒ

### æ ¼å¼ä»£ç 
| ä»£ç  | å«ä¹‰ | ç¤ºä¾‹ |
|------|------|------|
| `%c` | å¤©æ°”çŠ¶å†µ emoji | â˜€ï¸ â›…ï¸ ğŸŒ§ï¸ |
| `%t` | æ¸©åº¦ | +15Â°C |
| `%f` | ä½“æ„Ÿæ¸©åº¦ | +13Â°C |
| `%w` | é£é€Ÿé£å‘ | â†’15 km/h |
| `%h` | æ¹¿åº¦ | 65% |
| `%p` | é™æ°´æ¦‚ç‡ | 0.0 mm |
| `%l` | ä½ç½® | London |

---

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### âœ… é€‚ç”¨åœºæ™¯

1. **æ—¥å¸¸å¤©æ°”æŸ¥è¯¢**
   ```
   ç”¨æˆ·: "ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"
   â†’ curl "wttr.in/Shanghai?format=3"
   ```

2. **æ—…è¡Œè§„åˆ’**
   ```
   ç”¨æˆ·: "æ˜å¤©å»åŒ—äº¬ï¼Œä¼šä¸‹é›¨å—ï¼Ÿ"
   â†’ curl "wttr.in/Beijing?1"
   ```

3. **æˆ·å¤–æ´»åŠ¨å®‰æ’**
   ```
   ç”¨æˆ·: "å‘¨æœ«é€‚åˆçˆ¬å±±å—ï¼Ÿ"
   â†’ curl "wttr.in/Huangshan?format=v2"
   ```

4. **å¤šåŸå¸‚å¯¹æ¯”**
   ```bash
   curl "wttr.in/{Shanghai,Beijing,Shenzhen}?format=3"
   ```

### âŒ ä¸é€‚ç”¨åœºæ™¯

1. **å†å²å¤©æ°”æ•°æ®**
   - wttr.in ä¸æä¾›å†å²æ•°æ®
   - éœ€è¦ä¸“é—¨çš„æ°”è±¡æ¡£æ¡ˆæœåŠ¡

2. **ä¸¥é‡å¤©æ°”è­¦æŠ¥**
   - éå®˜æ–¹é¢„è­¦ç³»ç»Ÿ
   - åº”å‚è€ƒå›½å®¶æ°”è±¡å±€

3. **èˆªç©º/èˆªæµ·å¤©æ°”**
   - éœ€è¦ METAR/TAF æ ¼å¼
   - ä½¿ç”¨ä¸“ä¸šèˆªç©ºæ°”è±¡æœåŠ¡

4. **å¾®æ°”å€™æ•°æ®**
   - è¡—é“çº§åˆ«ç²¾åº¦ä¸è¶³
   - éœ€è¦æœ¬åœ°ä¼ æ„Ÿå™¨

---

## ğŸ¨ å®ç”¨ç¤ºä¾‹

### æ™ºèƒ½å›å¤æ¨¡æ¿

**1. å¿«é€Ÿå¤©æ°”**
```bash
curl -s "wttr.in/Shanghai?format=%l:+%c+%t+(feels+like+%f),+%w+wind,+%h+humidity"
# Shanghai: â›…ï¸ +18Â°C (feels like +16Â°C), â†’12 km/h wind, 58% humidity
```

**2. é™é›¨æ£€æŸ¥**
```bash
curl -s "wttr.in/Shanghai?format=%l:+%c+%p"
# Shanghai: ğŸŒ§ï¸ 2.5 mm
```

**3. å‘¨æœ«é¢„æŠ¥**
```bash
curl "wttr.in/Shanghai?format=v2"
```

### è‡ªåŠ¨åŒ–è„šæœ¬

**å¤©æ°”æé†’ï¼ˆæ¯æ—¥ cronï¼‰**
```bash
#!/bin/bash
# /usr/local/bin/weather-alert.sh

CITY="Shanghai"
RAIN=$(curl -s "wttr.in/$CITY?format=%p" | grep -oP '\d+\.\d+')

if (( $(echo "$RAIN > 5.0" | bc -l) )); then
    echo "âš ï¸ é™é›¨é¢„è­¦: ä»Šå¤©é¢„è®¡é™æ°´ ${RAIN} mm"
    # å¯ä»¥é›†æˆæ¶ˆæ¯æ¨é€
fi
```

**å¤šåŸå¸‚å¤©æ°”çœ‹æ¿**
```bash
#!/bin/bash
# weather-dashboard.sh

cities=("Shanghai" "Beijing" "Shenzhen" "Chengdu")

for city in "${cities[@]}"; do
    echo -n "$city: "
    curl -s "wttr.in/$city?format=3"
done
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### é€Ÿç‡é™åˆ¶
- wttr.in æœ‰é€Ÿç‡é™åˆ¶
- é¿å…é«˜é¢‘è¯·æ±‚ï¼ˆå»ºè®®é—´éš” > 1ç§’ï¼‰
- å¤§é‡ä½¿ç”¨è€ƒè™‘è‡ªå»ºåç«¯

### ä½ç½®æ ¼å¼
- æ”¯æŒåŸå¸‚åï¼ˆä¸­è‹±æ–‡å‡å¯ï¼‰
- æ”¯æŒæœºåœºä»£ç ï¼ˆIATAï¼‰
- æ”¯æŒåæ ‡ï¼ˆç»çº¬åº¦ï¼‰
  ```bash
  curl "wttr.in/31.2304,121.4737"
  ```

### è¾“å‡ºç¼–ç 
- ç»ˆç«¯éœ€æ”¯æŒ UTF-8
- Emoji æ˜¾ç¤ºéœ€è¦å­—ä½“æ”¯æŒ
- JSON æ ¼å¼é€‚åˆç¨‹åºè§£æ

---

## ğŸ”„ ä¸å…¶ä»– Skills é›†æˆ

### + Message Skill
å¤©æ°”æé†’æ¨é€åˆ°èŠå¤©ï¼š
```bash
WEATHER=$(curl -s "wttr.in/Shanghai?format=3")
# é€šè¿‡ message tool å‘é€
```

### + Healthcheck Skill
ä½œä¸ºå¥åº·æ£€æŸ¥çš„ä¸€éƒ¨åˆ†ï¼š
```bash
# æ£€æŸ¥å¤©æ°”å¯¹æœåŠ¡çš„å½±å“
if curl -s "wttr.in/DataCenter?format=%p" | grep -q "mm"; then
    echo "æ•°æ®ä¸­å¿ƒå¯èƒ½å—é™æ°´å½±å“"
fi
```

### + Canvas Skill
å¤©æ°”å¯è§†åŒ–å±•ç¤ºï¼š
```bash
# ç”Ÿæˆå¤©æ°”å›¾ç‰‡åµŒå…¥ Canvas
curl "wttr.in/Shanghai.png" -o /tmp/weather.png
```

---

## ğŸ“Š ä¼˜åŠ¿ä¸å±€é™

### âœ… ä¼˜åŠ¿

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| é›¶é…ç½® | æ— éœ€ API key |
| å…¨çƒè¦†ç›– | æ”¯æŒå¤§å¤šæ•°åŸå¸‚ |
| å¤šæ ¼å¼ | æ–‡æœ¬ã€JSONã€PNG |
| ç®€å•æ˜“ç”¨ | å•è¡Œ curl å‘½ä»¤ |
| å¼€æºå…è´¹ | wttr.in æ˜¯å¼€æºé¡¹ç›® |

### âš ï¸ å±€é™

| å±€é™ | è¯´æ˜ |
|------|------|
| é€Ÿç‡é™åˆ¶ | ä¸èƒ½é«˜é¢‘è¯·æ±‚ |
| éå®æ—¶ | æ•°æ®æœ‰å»¶è¿Ÿ |
| ç²¾åº¦æœ‰é™ | è¡—é“çº§ä¸å¯ç”¨ |
| æ— è­¦æŠ¥ | ä¸æä¾›å®˜æ–¹é¢„è­¦ |
| æ— å†å²æ•°æ® | ä»…å½“å‰å’Œé¢„æŠ¥ |

---

## ğŸš€ æ‰©å±•å»ºè®®

### 1. ç¼“å­˜æœºåˆ¶
```bash
# ç¼“å­˜ 10 åˆ†é’Ÿ
CACHE_FILE="/tmp/weather-cache"
if [ ! -f "$CACHE_FILE" ] || [ $(($(date +%s) - $(stat -c %Y "$CACHE_FILE"))) -gt 600 ]; then
    curl -s "wttr.in/Shanghai?format=j1" > "$CACHE_FILE"
fi
cat "$CACHE_FILE"
```

### 2. æ™ºèƒ½ä½ç½®è¯†åˆ«
```bash
# æ ¹æ® IP è‡ªåŠ¨å®šä½
LOCATION=$(curl -s ipinfo.io/city)
curl "wttr.in/$LOCATION?format=3"
```

### 3. å¤šè¯­è¨€æ”¯æŒ
```bash
# ä¸­æ–‡è¾“å‡º
curl "wttr.in/Shanghai?lang=zh"
```

### 4. è‡ªå®šä¹‰æ ¼å¼
```bash
# åˆ›å»ºå¤©æ°”ç®€æŠ¥
curl -s "wttr.in/Shanghai?format=%l:+%c+æ¸©åº¦%t+ä½“æ„Ÿ%f+æ¹¿åº¦%h+é£é€Ÿ%w"
```

---

## ğŸ“ˆ æœ€ä½³å®è·µ

### 1. é”™è¯¯å¤„ç†
```bash
weather=$(curl -s --max-time 5 "wttr.in/$city?format=3")
if [ $? -ne 0 ]; then
    echo "å¤©æ°”æŸ¥è¯¢å¤±è´¥"
fi
```

### 2. æ‰¹é‡æŸ¥è¯¢ä¼˜åŒ–
```bash
# ä½¿ç”¨ brace expansion
curl "wttr.in/{Shanghai,Beijing}?format=3"
# è€Œä¸æ˜¯å¤šæ¬¡å•ç‹¬è¯·æ±‚
```

### 3. è¾“å‡ºç¾åŒ–
```bash
# å½©è‰²è¾“å‡ºï¼ˆå¦‚æœç»ˆç«¯æ”¯æŒï¼‰
echo -e "\033[1;34m$(curl -s 'wttr.in/Shanghai?format=3')\033[0m"
```

---

## ğŸ”— ç›¸å…³èµ„æº

- **wttr.in**: https://wttr.in
- **wttr.in æ–‡æ¡£**: https://wttr.in/:help
- **Open-Meteo**: https://open-meteo.com
- **æºç **: https://github.com/chubin/wttr.in

---

## ğŸ“ æ€»ç»“

Weather Skill æ˜¯ä¸€ä¸ªè½»é‡çº§ã€é›¶é…ç½®çš„å¤©æ°”æŸ¥è¯¢å·¥å…·ï¼Œé€‚åˆæ—¥å¸¸ä½¿ç”¨å’Œè½»åº¦è‡ªåŠ¨åŒ–åœºæ™¯ã€‚åŸºäº wttr.in å¼€æºæœåŠ¡ï¼Œæä¾›ç®€æ´çš„ API å’Œå¤šç§è¾“å‡ºæ ¼å¼ã€‚

**æ¨èæŒ‡æ•°**: â­â­â­â­â˜† (4/5)
**é€‚ç”¨åœºæ™¯**: æ—¥å¸¸å¤©æ°”æŸ¥è¯¢ã€æ—…è¡Œè§„åˆ’ã€è½»åº¦è‡ªåŠ¨åŒ–
**å­¦ä¹ æ›²çº¿**: ä½
**ç»´æŠ¤æˆæœ¬**: æä½

---

*åˆ†æå®Œæˆ: 2026-03-01 22:03 by Glint ğŸ”º*
